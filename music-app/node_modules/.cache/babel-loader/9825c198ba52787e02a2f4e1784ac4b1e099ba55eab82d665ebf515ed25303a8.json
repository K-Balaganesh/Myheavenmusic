{"ast":null,"code":"var _jsxFileName = \"D:\\\\5th sem\\\\React projects\\\\Reactcodegpt\\\\music-app\\\\src\\\\context\\\\MusicPlayerContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useRef, useEffect, useCallback } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MusicPlayerContext = /*#__PURE__*/createContext();\nexport const useMusicPlayer = () => {\n  _s();\n  return useContext(MusicPlayerContext);\n};\n_s(useMusicPlayer, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst initialPlaylists = [{\n  id: 'p1',\n  name: 'My Favourites',\n  songs: []\n}, {\n  id: 'p2',\n  name: 'Road Trip Jams',\n  songs: []\n}];\nexport const MusicPlayerProvider = ({\n  children\n}) => {\n  _s2();\n  const [songs, setSongs] = useState([]); // optional global library\n  const [activeSong, setActiveSong] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const audioRef = useRef(null);\n  const [playlists, setPlaylists] = useState(initialPlaylists);\n\n  // --- Playback controls used internally ---\n  const playNext = useCallback(() => {\n    if (!songs || songs.length === 0) return;\n    if (!activeSong) {\n      setActiveSong(songs[0]);\n      setIsPlaying(true);\n      return;\n    }\n    const idx = songs.findIndex(s => s.id === activeSong.id);\n    const nextIndex = (idx + 1 + songs.length) % songs.length;\n    setActiveSong(songs[nextIndex]);\n    setIsPlaying(true);\n  }, [activeSong, songs]);\n  const playPrevious = useCallback(() => {\n    if (!songs || songs.length === 0) return;\n    if (!activeSong) {\n      setActiveSong(songs[0]);\n      setIsPlaying(true);\n      return;\n    }\n    const idx = songs.findIndex(s => s.id === activeSong.id);\n    const prevIndex = (idx - 1 + songs.length) % songs.length;\n    setActiveSong(songs[prevIndex]);\n    setIsPlaying(true);\n  }, [activeSong, songs]);\n\n  // toggle play/pause (will attempt to play or pause the hidden audio element)\n  const togglePlayPause = useCallback(() => {\n    const audio = audioRef.current;\n    if (!audio) {\n      // If there's no audio element yet, just flip state\n      setIsPlaying(prev => !prev);\n      return;\n    }\n    if (isPlaying) {\n      audio.pause();\n      setIsPlaying(false);\n    } else {\n      const promise = audio.play();\n      if (promise !== undefined) {\n        promise.then(() => setIsPlaying(true)).catch(err => {\n          console.warn(\"Playback prevented/failed:\", err);\n          setIsPlaying(false);\n        });\n      } else {\n        // older browsers\n        setIsPlaying(true);\n      }\n    }\n  }, [isPlaying]);\n\n  // Play a specific song (used by song cards)\n  const playSong = useCallback(song => {\n    if (!song) return;\n    if (!activeSong || activeSong.id !== song.id) {\n      setActiveSong(song);\n      // set isPlaying true -> effect will call audio.play()\n      setIsPlaying(true);\n    } else {\n      // same song -> toggle\n      togglePlayPause();\n    }\n  }, [activeSong, togglePlayPause]);\n\n  // Seek handler accepts either an event or a numeric value\n  const handleSeek = useCallback(valueOrEvent => {\n    const audio = audioRef.current;\n    const value = typeof valueOrEvent === 'object' ? parseFloat(valueOrEvent.target.value) : parseFloat(valueOrEvent);\n    if (!isNaN(value) && audio) {\n      audio.currentTime = value;\n      setCurrentTime(value);\n    }\n  }, []);\n\n  // Add to existing playlist (by id)\n  const addToPlaylist = useCallback((playlistId, song) => {\n    if (!song) return;\n    setPlaylists(prev => prev.map(pl => pl.id === playlistId ? pl.songs.some(s => s.id === song.id) ? pl : {\n      ...pl,\n      songs: [...pl.songs, song]\n    } : pl));\n  }, []);\n\n  // Create a playlist (returns the new playlist object)\n  const createPlaylist = useCallback((name, initialSong = null) => {\n    const newPlaylist = {\n      id: Date.now().toString(),\n      name: name || `New Playlist`,\n      songs: initialSong ? [initialSong] : []\n    };\n    setPlaylists(prev => [...prev, newPlaylist]);\n    return newPlaylist;\n  }, []);\n\n  // Button handler used by your \"+\" UI\n  const handleAddToPlaylist = useCallback(() => {\n    if (!activeSong) return;\n    // find My Favourites (case-sensitive match on name used earlier)\n    let favourites = playlists.find(p => p.name === \"My Favourites\");\n    if (!favourites) {\n      // create and add active song\n      const created = createPlaylist(\"My Favourites\", activeSong);\n      // no need to call set again â€” created already added\n      console.log(`Created \"${created.name}\" and added \"${activeSong.songname}\"`);\n    } else {\n      addToPlaylist(favourites.id, activeSong);\n      console.log(`Added \"${activeSong.songname}\" to \"${favourites.name}\"`);\n    }\n  }, [activeSong, playlists, addToPlaylist, createPlaylist]);\n\n  // --- Audio element event handlers ---\n  const handleLoadedMetadata = useCallback(() => {\n    const audio = audioRef.current;\n    if (audio) {\n      setDuration(audio.duration || 0);\n    }\n  }, []);\n  const handleTimeUpdate = useCallback(() => {\n    const audio = audioRef.current;\n    if (audio) setCurrentTime(audio.currentTime || 0);\n  }, []);\n  const handleEnded = useCallback(() => {\n    // default behavior: play next\n    playNextOrFallback();\n  }, []); // playNextOrFallback defined later (see below)\n\n  // fallback function for ended (we define it after playNext to avoid hoisting issues)\n  const playNextOrFallback = useCallback(() => {\n    if (songs && songs.length > 0) {\n      // if activeSong exists, use playNext; else start first\n      if (activeSong) {\n        playNext();\n      } else {\n        setActiveSong(songs[0]);\n        setIsPlaying(true);\n      }\n    } else {\n      setIsPlaying(false);\n    }\n  }, [activeSong, songs, playNext]);\n\n  // Attach/detach events on the hidden audio element\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    audio.addEventListener('loadedmetadata', handleLoadedMetadata);\n    audio.addEventListener('timeupdate', handleTimeUpdate);\n    audio.addEventListener('ended', playNextOrFallback);\n    return () => {\n      audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\n      audio.removeEventListener('ended', playNextOrFallback);\n    };\n  }, [handleLoadedMetadata, handleTimeUpdate, playNextOrFallback]);\n\n  // When activeSong or isPlaying changes, ensure the audio element plays/pauses and src is correct\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n\n    // set src if activeSong changed\n    audio.src = activeSong ? activeSong.url : '';\n    // reset time when new song selected\n    if (activeSong) {\n      audio.currentTime = 0;\n      setCurrentTime(0);\n      setDuration(0);\n    }\n    if (isPlaying) {\n      const p = audio.play();\n      if (p !== undefined) {\n        p.then(() => setIsPlaying(true)).catch(err => {\n          console.warn('Autoplay prevented or play failed:', err);\n          setIsPlaying(false);\n        });\n      }\n    } else {\n      // pause\n      try {\n        audio.pause();\n      } catch (e) {/* ignore */}\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [activeSong, isPlaying]);\n\n  // Expose context values\n  const contextValue = {\n    activeSong,\n    isPlaying,\n    currentTime,\n    duration,\n    songs,\n    setSongs,\n    playSong,\n    togglePlayPause,\n    playNext,\n    playPrevious,\n    handleSeek,\n    playlists,\n    addToPlaylist,\n    createPlaylist,\n    handleAddToPlaylist\n  };\n  return /*#__PURE__*/_jsxDEV(MusicPlayerContext.Provider, {\n    value: contextValue,\n    children: [children, /*#__PURE__*/_jsxDEV(\"audio\", {\n      ref: audioRef,\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 237,\n    columnNumber: 5\n  }, this);\n};\n_s2(MusicPlayerProvider, \"/yUV2QnJOVsv7xB1PQXM8lKLq7Q=\");\n_c = MusicPlayerProvider;\nvar _c;\n$RefreshReg$(_c, \"MusicPlayerProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","MusicPlayerContext","useMusicPlayer","_s","initialPlaylists","id","name","songs","MusicPlayerProvider","children","_s2","setSongs","activeSong","setActiveSong","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","audioRef","playlists","setPlaylists","playNext","length","idx","findIndex","s","nextIndex","playPrevious","prevIndex","togglePlayPause","audio","current","prev","pause","promise","play","undefined","then","catch","err","console","warn","playSong","song","handleSeek","valueOrEvent","value","parseFloat","target","isNaN","addToPlaylist","playlistId","map","pl","some","createPlaylist","initialSong","newPlaylist","Date","now","toString","handleAddToPlaylist","favourites","find","p","created","log","songname","handleLoadedMetadata","handleTimeUpdate","handleEnded","playNextOrFallback","addEventListener","removeEventListener","src","url","e","contextValue","Provider","ref","style","display","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/5th sem/React projects/Reactcodegpt/music-app/src/context/MusicPlayerContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useRef, useEffect, useCallback } from 'react';\r\n\r\nconst MusicPlayerContext = createContext();\r\n\r\nexport const useMusicPlayer = () => useContext(MusicPlayerContext);\r\n\r\nconst initialPlaylists = [\r\n  { id: 'p1', name: 'My Favourites', songs: [] },\r\n  { id: 'p2', name: 'Road Trip Jams', songs: [] },\r\n];\r\n\r\nexport const MusicPlayerProvider = ({ children }) => {\r\n  const [songs, setSongs] = useState([]); // optional global library\r\n  const [activeSong, setActiveSong] = useState(null);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const [currentTime, setCurrentTime] = useState(0);\r\n  const [duration, setDuration] = useState(0);\r\n  const audioRef = useRef(null);\r\n\r\n  const [playlists, setPlaylists] = useState(initialPlaylists);\r\n\r\n  // --- Playback controls used internally ---\r\n  const playNext = useCallback(() => {\r\n    if (!songs || songs.length === 0) return;\r\n    if (!activeSong) {\r\n      setActiveSong(songs[0]);\r\n      setIsPlaying(true);\r\n      return;\r\n    }\r\n    const idx = songs.findIndex(s => s.id === activeSong.id);\r\n    const nextIndex = (idx + 1 + songs.length) % songs.length;\r\n    setActiveSong(songs[nextIndex]);\r\n    setIsPlaying(true);\r\n  }, [activeSong, songs]);\r\n\r\n  const playPrevious = useCallback(() => {\r\n    if (!songs || songs.length === 0) return;\r\n    if (!activeSong) {\r\n      setActiveSong(songs[0]);\r\n      setIsPlaying(true);\r\n      return;\r\n    }\r\n    const idx = songs.findIndex(s => s.id === activeSong.id);\r\n    const prevIndex = (idx - 1 + songs.length) % songs.length;\r\n    setActiveSong(songs[prevIndex]);\r\n    setIsPlaying(true);\r\n  }, [activeSong, songs]);\r\n\r\n  // toggle play/pause (will attempt to play or pause the hidden audio element)\r\n  const togglePlayPause = useCallback(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) {\r\n      // If there's no audio element yet, just flip state\r\n      setIsPlaying(prev => !prev);\r\n      return;\r\n    }\r\n\r\n    if (isPlaying) {\r\n      audio.pause();\r\n      setIsPlaying(false);\r\n    } else {\r\n      const promise = audio.play();\r\n      if (promise !== undefined) {\r\n        promise\r\n          .then(() => setIsPlaying(true))\r\n          .catch((err) => {\r\n            console.warn(\"Playback prevented/failed:\", err);\r\n            setIsPlaying(false);\r\n          });\r\n      } else {\r\n        // older browsers\r\n        setIsPlaying(true);\r\n      }\r\n    }\r\n  }, [isPlaying]);\r\n\r\n  // Play a specific song (used by song cards)\r\n  const playSong = useCallback((song) => {\r\n    if (!song) return;\r\n    if (!activeSong || activeSong.id !== song.id) {\r\n      setActiveSong(song);\r\n      // set isPlaying true -> effect will call audio.play()\r\n      setIsPlaying(true);\r\n    } else {\r\n      // same song -> toggle\r\n      togglePlayPause();\r\n    }\r\n  }, [activeSong, togglePlayPause]);\r\n\r\n  // Seek handler accepts either an event or a numeric value\r\n  const handleSeek = useCallback((valueOrEvent) => {\r\n    const audio = audioRef.current;\r\n    const value = typeof valueOrEvent === 'object' ? parseFloat(valueOrEvent.target.value) : parseFloat(valueOrEvent);\r\n    if (!isNaN(value) && audio) {\r\n      audio.currentTime = value;\r\n      setCurrentTime(value);\r\n    }\r\n  }, []);\r\n\r\n  // Add to existing playlist (by id)\r\n  const addToPlaylist = useCallback((playlistId, song) => {\r\n    if (!song) return;\r\n    setPlaylists(prev =>\r\n      prev.map(pl => pl.id === playlistId\r\n        ? (pl.songs.some(s => s.id === song.id) ? pl : { ...pl, songs: [...pl.songs, song] })\r\n        : pl\r\n      )\r\n    );\r\n  }, []);\r\n\r\n  // Create a playlist (returns the new playlist object)\r\n  const createPlaylist = useCallback((name, initialSong = null) => {\r\n    const newPlaylist = {\r\n      id: Date.now().toString(),\r\n      name: name || `New Playlist`,\r\n      songs: initialSong ? [initialSong] : []\r\n    };\r\n    setPlaylists(prev => [...prev, newPlaylist]);\r\n    return newPlaylist;\r\n  }, []);\r\n\r\n  // Button handler used by your \"+\" UI\r\n  const handleAddToPlaylist = useCallback(() => {\r\n    if (!activeSong) return;\r\n    // find My Favourites (case-sensitive match on name used earlier)\r\n    let favourites = playlists.find(p => p.name === \"My Favourites\");\r\n\r\n    if (!favourites) {\r\n      // create and add active song\r\n      const created = createPlaylist(\"My Favourites\", activeSong);\r\n      // no need to call set again â€” created already added\r\n      console.log(`Created \"${created.name}\" and added \"${activeSong.songname}\"`);\r\n    } else {\r\n      addToPlaylist(favourites.id, activeSong);\r\n      console.log(`Added \"${activeSong.songname}\" to \"${favourites.name}\"`);\r\n    }\r\n  }, [activeSong, playlists, addToPlaylist, createPlaylist]);\r\n\r\n  // --- Audio element event handlers ---\r\n  const handleLoadedMetadata = useCallback(() => {\r\n    const audio = audioRef.current;\r\n    if (audio) {\r\n      setDuration(audio.duration || 0);\r\n    }\r\n  }, []);\r\n\r\n  const handleTimeUpdate = useCallback(() => {\r\n    const audio = audioRef.current;\r\n    if (audio) setCurrentTime(audio.currentTime || 0);\r\n  }, []);\r\n\r\n  const handleEnded = useCallback(() => {\r\n    // default behavior: play next\r\n    playNextOrFallback();\r\n  }, []); // playNextOrFallback defined later (see below)\r\n\r\n  // fallback function for ended (we define it after playNext to avoid hoisting issues)\r\n  const playNextOrFallback = useCallback(() => {\r\n    if (songs && songs.length > 0) {\r\n      // if activeSong exists, use playNext; else start first\r\n      if (activeSong) {\r\n        playNext();\r\n      } else {\r\n        setActiveSong(songs[0]);\r\n        setIsPlaying(true);\r\n      }\r\n    } else {\r\n      setIsPlaying(false);\r\n    }\r\n  }, [activeSong, songs, playNext]);\r\n\r\n  // Attach/detach events on the hidden audio element\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    audio.addEventListener('loadedmetadata', handleLoadedMetadata);\r\n    audio.addEventListener('timeupdate', handleTimeUpdate);\r\n    audio.addEventListener('ended', playNextOrFallback);\r\n\r\n    return () => {\r\n      audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\r\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\r\n      audio.removeEventListener('ended', playNextOrFallback);\r\n    };\r\n  }, [handleLoadedMetadata, handleTimeUpdate, playNextOrFallback]);\r\n\r\n  // When activeSong or isPlaying changes, ensure the audio element plays/pauses and src is correct\r\n  useEffect(() => {\r\n    const audio = audioRef.current;\r\n    if (!audio) return;\r\n\r\n    // set src if activeSong changed\r\n    audio.src = activeSong ? activeSong.url : '';\r\n    // reset time when new song selected\r\n    if (activeSong) {\r\n      audio.currentTime = 0;\r\n      setCurrentTime(0);\r\n      setDuration(0);\r\n    }\r\n\r\n    if (isPlaying) {\r\n      const p = audio.play();\r\n      if (p !== undefined) {\r\n        p.then(() => setIsPlaying(true)).catch((err) => {\r\n          console.warn('Autoplay prevented or play failed:', err);\r\n          setIsPlaying(false);\r\n        });\r\n      }\r\n    } else {\r\n      // pause\r\n      try { audio.pause(); } catch (e) { /* ignore */ }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [activeSong, isPlaying]);\r\n\r\n  // Expose context values\r\n  const contextValue = {\r\n    activeSong,\r\n    isPlaying,\r\n    currentTime,\r\n    duration,\r\n    songs,\r\n    setSongs,\r\n    playSong,\r\n    togglePlayPause,\r\n    playNext,\r\n    playPrevious,\r\n    handleSeek,\r\n    playlists,\r\n    addToPlaylist,\r\n    createPlaylist,\r\n    handleAddToPlaylist\r\n  };\r\n\r\n  return (\r\n    <MusicPlayerContext.Provider value={contextValue}>\r\n      {children}\r\n      {/* Hidden audio element is managed by the provider so UI components call context functions only */}\r\n      <audio ref={audioRef} style={{ display: 'none' }} />\r\n    </MusicPlayerContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}