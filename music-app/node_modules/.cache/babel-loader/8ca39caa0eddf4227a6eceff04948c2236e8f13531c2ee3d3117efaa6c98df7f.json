{"ast":null,"code":"var _jsxFileName = \"D:\\\\5th sem\\\\React projects\\\\Reactcodegpt\\\\music-app\\\\src\\\\context\\\\AuthContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect, useCallback } from \"react\";\n\n// Create Auth Context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\n// Provider Component\nexport const AuthProvider = ({\n  children\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n\n  // Pop-up state and message\n  const [showAuthPopup, setShowAuthPopup] = useState(false);\n  const [authPopupMessage, setAuthPopupMessage] = useState(\"\");\n\n  // Load user from localStorage on mount\n  useEffect(() => {\n    const storedUser = localStorage.getItem(\"user\");\n    if (storedUser) setUser(JSON.parse(storedUser));\n  }, []);\n\n  // Show popup for 2.5 seconds\n  const triggerAuthPopup = useCallback(message => {\n    setAuthPopupMessage(message);\n    setShowAuthPopup(true);\n    const timer = setTimeout(() => {\n      setShowAuthPopup(false);\n      setAuthPopupMessage(\"\");\n    }, 2500);\n    return () => clearTimeout(timer);\n  }, []);\n\n  // Login function\n  const login = userData => {\n    setUser(userData);\n    localStorage.setItem(\"user\", JSON.stringify(userData));\n  };\n\n  // Logout function\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem(\"user\");\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: {\n      user,\n      login,\n      logout,\n      showAuthPopup,\n      authPopupMessage,\n      triggerAuthPopup\n    },\n    children: [children, showAuthPopup && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"fixed\",\n        bottom: \"120px\",\n        left: \"50%\",\n        transform: \"translateX(-50%)\",\n        backgroundColor: \"#333\",\n        color: \"#fff\",\n        padding: \"10px 20px\",\n        borderRadius: \"6px\",\n        boxShadow: \"0 2px 10px rgba(0,0,0,0.5)\",\n        zIndex: 10000,\n        animation: \"fadeInOut 2.5s ease forwards\"\n      },\n      children: authPopupMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n          @keyframes fadeInOut {\n            0% { opacity: 0; transform: translateY(-10px); }\n            10% { opacity: 1; transform: translateY(0); }\n            90% { opacity: 1; transform: translateY(0); }\n            100% { opacity: 0; transform: translateY(-10px); }\n          }\n        `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n// Custom hook to use the Auth Context\n_s(AuthProvider, \"QEcFpWaZgqK34VoPZlgOvNst560=\");\n_c = AuthProvider;\nexport const useAuth = () => {\n  _s2();\n  return useContext(AuthContext);\n};\n\n// =========================\n// Example Usage Component\n// =========================\n_s2(useAuth, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const Greeting = () => {\n  _s3();\n  const {\n    user,\n    triggerAuthPopup\n  } = useAuth();\n  const handleRestrictedAction = () => {\n    if (!user) {\n      triggerAuthPopup(\"You need to log in to access this feature!\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      margin: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#1db954\",\n          fontWeight: \"bold\"\n        },\n        children: user ? `${user.username}'s` : \"My\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), \" \", \"Playlist\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleRestrictedAction,\n      style: {\n        marginTop: \"10px\",\n        padding: \"8px 15px\",\n        backgroundColor: \"#121212\",\n        color: \"#fff\",\n        border: \"none\",\n        borderRadius: \"6px\",\n        cursor: \"pointer\",\n        transition: \"background 0.2s\"\n      },\n      children: \"Open Playlist\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n_s3(Greeting, \"ewM/x3Wy2hZuDK1hTigoH1H+Xgg=\", false, function () {\n  return [useAuth];\n});\n_c2 = Greeting;\nvar _c, _c2;\n$RefreshReg$(_c, \"AuthProvider\");\n$RefreshReg$(_c2, \"Greeting\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useCallback","jsxDEV","_jsxDEV","AuthContext","AuthProvider","children","_s","user","setUser","showAuthPopup","setShowAuthPopup","authPopupMessage","setAuthPopupMessage","storedUser","localStorage","getItem","JSON","parse","triggerAuthPopup","message","timer","setTimeout","clearTimeout","login","userData","setItem","stringify","logout","removeItem","Provider","value","style","position","bottom","left","transform","backgroundColor","color","padding","borderRadius","boxShadow","zIndex","animation","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuth","_s2","Greeting","_s3","handleRestrictedAction","margin","fontWeight","username","onClick","marginTop","border","cursor","transition","_c2","$RefreshReg$"],"sources":["D:/5th sem/React projects/Reactcodegpt/music-app/src/context/AuthContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect, useCallback } from \"react\";\r\n\r\n// Create Auth Context\r\nconst AuthContext = createContext();\r\n\r\n// Provider Component\r\nexport const AuthProvider = ({ children }) => {\r\n  const [user, setUser] = useState(null);\r\n\r\n  // Pop-up state and message\r\n  const [showAuthPopup, setShowAuthPopup] = useState(false);\r\n  const [authPopupMessage, setAuthPopupMessage] = useState(\"\");\r\n\r\n  // Load user from localStorage on mount\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    if (storedUser) setUser(JSON.parse(storedUser));\r\n  }, []);\r\n\r\n  // Show popup for 2.5 seconds\r\n  const triggerAuthPopup = useCallback((message) => {\r\n    setAuthPopupMessage(message);\r\n    setShowAuthPopup(true);\r\n    const timer = setTimeout(() => {\r\n      setShowAuthPopup(false);\r\n      setAuthPopupMessage(\"\");\r\n    }, 2500);\r\n    return () => clearTimeout(timer);\r\n  }, []);\r\n\r\n  // Login function\r\n  const login = (userData) => {\r\n    setUser(userData);\r\n    localStorage.setItem(\"user\", JSON.stringify(userData));\r\n  };\r\n\r\n  // Logout function\r\n  const logout = () => {\r\n    setUser(null);\r\n    localStorage.removeItem(\"user\");\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{ user, login, logout, showAuthPopup, authPopupMessage, triggerAuthPopup }}\r\n    >\r\n      {children}\r\n\r\n      {/* Self-contained Popup */}\r\n      {showAuthPopup && (\r\n        <div style={{\r\n          position: \"fixed\",\r\n          bottom: \"120px\",\r\n          left: \"50%\",\r\n          transform: \"translateX(-50%)\",\r\n          backgroundColor: \"#333\",\r\n          color: \"#fff\",\r\n          padding: \"10px 20px\",\r\n          borderRadius: \"6px\",\r\n          boxShadow: \"0 2px 10px rgba(0,0,0,0.5)\",\r\n          zIndex: 10000,\r\n          animation: \"fadeInOut 2.5s ease forwards\"\r\n        }}>\r\n          {authPopupMessage}\r\n        </div>\r\n      )}\r\n\r\n      {/* Inline keyframes for fade-in/out */}\r\n      <style>\r\n        {`\r\n          @keyframes fadeInOut {\r\n            0% { opacity: 0; transform: translateY(-10px); }\r\n            10% { opacity: 1; transform: translateY(0); }\r\n            90% { opacity: 1; transform: translateY(0); }\r\n            100% { opacity: 0; transform: translateY(-10px); }\r\n          }\r\n        `}\r\n      </style>\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\n// Custom hook to use the Auth Context\r\nexport const useAuth = () => useContext(AuthContext);\r\n\r\n// =========================\r\n// Example Usage Component\r\n// =========================\r\nexport const Greeting = () => {\r\n  const { user, triggerAuthPopup } = useAuth();\r\n\r\n  const handleRestrictedAction = () => {\r\n    if (!user) {\r\n      triggerAuthPopup(\"You need to log in to access this feature!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={{ margin: \"20px\" }}>\r\n      <h2>\r\n        <span style={{ color: \"#1db954\", fontWeight: \"bold\" }}>\r\n          {user ? `${user.username}'s` : \"My\"}\r\n        </span>{\" \"}\r\n        Playlist\r\n      </h2>\r\n\r\n      <button\r\n        onClick={handleRestrictedAction}\r\n        style={{\r\n          marginTop: \"10px\",\r\n          padding: \"8px 15px\",\r\n          backgroundColor: \"#121212\",\r\n          color: \"#fff\",\r\n          border: \"none\",\r\n          borderRadius: \"6px\",\r\n          cursor: \"pointer\",\r\n          transition: \"background 0.2s\"\r\n        }}\r\n      >\r\n        Open Playlist\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}