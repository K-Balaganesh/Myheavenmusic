{"ast":null,"code":"var _jsxFileName = \"D:\\\\5th sem\\\\React projects\\\\Reactcodegpt\\\\music-app\\\\src\\\\context\\\\MusicPlayerContext.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useRef, useEffect, useCallback } from 'react';\nimport '../components/SongCard.css';\n\n// 1. Create Context\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MusicPlayerContext = /*#__PURE__*/createContext();\n\n// 2. Custom Hook\nexport const useMusicPlayer = () => {\n  _s();\n  return useContext(MusicPlayerContext);\n};\n\n// Helper\n_s(useMusicPlayer, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nconst formatTime = seconds => {\n  if (isNaN(seconds) || seconds < 0) return \"0:00\";\n  const minutes = Math.floor(seconds / 60);\n  const remainingSeconds = Math.floor(seconds % 60);\n  return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\n};\n\n// Initial playlists\nconst initialPlaylists = [{\n  id: 'p1',\n  name: 'My Favourites',\n  songs: []\n}, {\n  id: 'p2',\n  name: 'Road Trip Jams',\n  songs: []\n}];\nexport const MusicPlayerProvider = ({\n  children\n}) => {\n  _s2();\n  const [songs, setSongs] = useState([]);\n  const [activeSong, setActiveSong] = useState(null);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const audioRef = useRef(null);\n\n  // Playlists\n  const [playlists, setPlaylists] = useState(initialPlaylists);\n\n  // --- Core Playback Functions ---\n  const skipTrack = useCallback(direction => {\n    if (!activeSong || songs.length === 0) return;\n    const currentIndex = songs.findIndex(s => s.id === activeSong.id);\n    let newIndex = currentIndex + direction;\n    if (newIndex < 0) newIndex = songs.length - 1;\n    if (newIndex >= songs.length) newIndex = 0;\n    const nextSong = songs[newIndex];\n    if (nextSong) {\n      setActiveSong(nextSong);\n      setIsPlaying(true);\n    }\n  }, [activeSong, songs]);\n  const handleLoadedMetadata = useCallback(() => {\n    if (audioRef.current) setDuration(audioRef.current.duration);\n  }, []);\n  const handleTimeUpdate = useCallback(() => {\n    if (audioRef.current) setCurrentTime(audioRef.current.currentTime);\n  }, []);\n  const handleSongEnded = useCallback(() => {\n    skipTrack(1);\n  }, [skipTrack]);\n  const togglePlayPause = () => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    if (isPlaying) {\n      audio.pause();\n    } else {\n      audio.play().catch(e => console.error(\"Play failed:\", e));\n    }\n    setIsPlaying(!isPlaying);\n  };\n  const handleSeek = e => {\n    const audio = audioRef.current;\n    if (audio) {\n      const newTime = parseFloat(e.target.value);\n      audio.currentTime = newTime;\n      setCurrentTime(newTime);\n    }\n  };\n  const playSong = song => {\n    if ((activeSong === null || activeSong === void 0 ? void 0 : activeSong.id) !== song.id) {\n      setActiveSong(song);\n      setIsPlaying(true);\n    } else {\n      togglePlayPause();\n    }\n  };\n\n  // --- Playlist Functions ---\n  const addToPlaylist = useCallback((playlistId, song) => {\n    setPlaylists(prev => prev.map(p => p.id === playlistId && !p.songs.some(s => s.id === song.id) ? {\n      ...p,\n      songs: [...p.songs, song]\n    } : p));\n    console.log(`Added ${song.songname} to playlist ID: ${playlistId}`);\n  }, []);\n  const createPlaylist = useCallback((name, firstSong = null) => {\n    const newPlaylist = {\n      id: Date.now().toString(),\n      name: name || `New Playlist`,\n      songs: firstSong ? [firstSong] : []\n    };\n    setPlaylists(prev => [...prev, newPlaylist]);\n    console.log(`Created playlist: ${newPlaylist.name}`);\n    return newPlaylist;\n  }, []);\n\n  // --- NEW: Add Current Song with \"+\" button ---\n  const handleAddToPlaylist = () => {\n    if (!activeSong) return;\n    if (playlists.length === 0) {\n      // No playlist yet → create one\n      const newList = createPlaylist(\"My Favourites\", activeSong);\n      console.log(`Created \"${newList.name}\" and added ${activeSong.songname}`);\n    } else {\n      // Add to first playlist (\"My Favourites\")\n      addToPlaylist(playlists[0].id, activeSong);\n      console.log(`Added ${activeSong.songname} to ${playlists[0].name}`);\n    }\n  };\n\n  // Effects\n  useEffect(() => {\n    const audio = audioRef.current;\n    if (!audio) return;\n    audio.addEventListener('loadedmetadata', handleLoadedMetadata);\n    audio.addEventListener('timeupdate', handleTimeUpdate);\n    audio.addEventListener('ended', handleSongEnded);\n    return () => {\n      audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\n      audio.removeEventListener('timeupdate', handleTimeUpdate);\n      audio.removeEventListener('ended', handleSongEnded);\n    };\n  }, [handleLoadedMetadata, handleTimeUpdate, handleSongEnded, activeSong]);\n  useEffect(() => {\n    if (activeSong && audioRef.current && isPlaying) {\n      audioRef.current.play().catch(() => {\n        console.warn(\"Autoplay prevented.\");\n        setIsPlaying(false);\n      });\n    }\n  }, [activeSong, isPlaying]);\n  const contextValue = {\n    activeSong,\n    isPlaying,\n    currentTime,\n    duration,\n    songs,\n    playSong,\n    togglePlayPause,\n    skipTrack,\n    handleSeek,\n    setSongs,\n    playlists,\n    addToPlaylist,\n    createPlaylist\n  };\n  return /*#__PURE__*/_jsxDEV(MusicPlayerContext.Provider, {\n    value: contextValue,\n    children: [children, activeSong && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"player-footer\",\n      children: [/*#__PURE__*/_jsxDEV(\"audio\", {\n        ref: audioRef,\n        src: activeSong.url,\n        preload: \"auto\"\n      }, activeSong.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"song-info player-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: activeSong.cover,\n          alt: activeSong.songname,\n          className: \"player-cover\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: activeSong.songname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: activeSong.artist.split(',')[0]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"progress-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"player-controls\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => skipTrack(-1),\n            children: \"<<\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: togglePlayPause,\n            children: isPlaying ? '❚❚' : '▶'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => skipTrack(1),\n            children: \">>\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-time\",\n          children: formatTime(currentTime)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"range\",\n          min: \"0\",\n          max: duration || 0,\n          value: currentTime,\n          className: \"progress-bar\",\n          onChange: handleSeek\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"progress-time\",\n          children: formatTime(duration)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"player-options-right\",\n        style: {\n          flex: 1,\n          textAlign: 'right'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"add-to-playlist-btn\",\n          onClick: handleAddToPlaylist,\n          style: {\n            background: 'none',\n            border: 'none',\n            color: 'white',\n            fontSize: '24px',\n            cursor: 'pointer',\n            padding: '0 10px'\n          },\n          children: \"+\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 9\n  }, this);\n};\n_s2(MusicPlayerProvider, \"SOs4jeniannTHsvPDxYjbok/S/U=\");\n_c = MusicPlayerProvider;\nvar _c;\n$RefreshReg$(_c, \"MusicPlayerProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useRef","useEffect","useCallback","jsxDEV","_jsxDEV","MusicPlayerContext","useMusicPlayer","_s","formatTime","seconds","isNaN","minutes","Math","floor","remainingSeconds","toString","padStart","initialPlaylists","id","name","songs","MusicPlayerProvider","children","_s2","setSongs","activeSong","setActiveSong","isPlaying","setIsPlaying","currentTime","setCurrentTime","duration","setDuration","audioRef","playlists","setPlaylists","skipTrack","direction","length","currentIndex","findIndex","s","newIndex","nextSong","handleLoadedMetadata","current","handleTimeUpdate","handleSongEnded","togglePlayPause","audio","pause","play","catch","e","console","error","handleSeek","newTime","parseFloat","target","value","playSong","song","addToPlaylist","playlistId","prev","map","p","some","log","songname","createPlaylist","firstSong","newPlaylist","Date","now","handleAddToPlaylist","newList","addEventListener","removeEventListener","warn","contextValue","Provider","className","ref","src","url","preload","fileName","_jsxFileName","lineNumber","columnNumber","cover","alt","artist","split","onClick","type","min","max","onChange","style","flex","textAlign","background","border","color","fontSize","cursor","padding","_c","$RefreshReg$"],"sources":["D:/5th sem/React projects/Reactcodegpt/music-app/src/context/MusicPlayerContext.jsx"],"sourcesContent":["import React, { createContext, useContext, useState, useRef, useEffect, useCallback } from 'react';\r\nimport '../components/SongCard.css'; \r\n\r\n// 1. Create Context\r\nconst MusicPlayerContext = createContext();\r\n\r\n// 2. Custom Hook\r\nexport const useMusicPlayer = () => {\r\n    return useContext(MusicPlayerContext);\r\n};\r\n\r\n// Helper\r\nconst formatTime = (seconds) => {\r\n    if (isNaN(seconds) || seconds < 0) return \"0:00\";\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = Math.floor(seconds % 60);\r\n    return `${minutes}:${remainingSeconds.toString().padStart(2, '0')}`;\r\n};\r\n\r\n// Initial playlists\r\nconst initialPlaylists = [\r\n    { id: 'p1', name: 'My Favourites', songs: [] },\r\n    { id: 'p2', name: 'Road Trip Jams', songs: [] },\r\n];\r\n\r\nexport const MusicPlayerProvider = ({ children }) => {\r\n    const [songs, setSongs] = useState([]); \r\n    const [activeSong, setActiveSong] = useState(null);\r\n    const [isPlaying, setIsPlaying] = useState(false);\r\n    const [currentTime, setCurrentTime] = useState(0);\r\n    const [duration, setDuration] = useState(0);\r\n    const audioRef = useRef(null);\r\n\r\n    // Playlists\r\n    const [playlists, setPlaylists] = useState(initialPlaylists);\r\n\r\n    // --- Core Playback Functions ---\r\n    const skipTrack = useCallback((direction) => {\r\n        if (!activeSong || songs.length === 0) return;\r\n        const currentIndex = songs.findIndex(s => s.id === activeSong.id);\r\n        let newIndex = currentIndex + direction;\r\n        if (newIndex < 0) newIndex = songs.length - 1;\r\n        if (newIndex >= songs.length) newIndex = 0;\r\n        const nextSong = songs[newIndex];\r\n        if (nextSong) {\r\n            setActiveSong(nextSong);\r\n            setIsPlaying(true);\r\n        }\r\n    }, [activeSong, songs]); \r\n\r\n    const handleLoadedMetadata = useCallback(() => {\r\n        if (audioRef.current) setDuration(audioRef.current.duration);\r\n    }, []);\r\n\r\n    const handleTimeUpdate = useCallback(() => {\r\n        if (audioRef.current) setCurrentTime(audioRef.current.currentTime);\r\n    }, []);\r\n\r\n    const handleSongEnded = useCallback(() => {\r\n        skipTrack(1); \r\n    }, [skipTrack]); \r\n\r\n    const togglePlayPause = () => {\r\n        const audio = audioRef.current;\r\n        if (!audio) return;\r\n        if (isPlaying) {\r\n            audio.pause();\r\n        } else {\r\n            audio.play().catch(e => console.error(\"Play failed:\", e));\r\n        }\r\n        setIsPlaying(!isPlaying);\r\n    };\r\n\r\n    const handleSeek = (e) => {\r\n        const audio = audioRef.current;\r\n        if (audio) {\r\n            const newTime = parseFloat(e.target.value);\r\n            audio.currentTime = newTime;\r\n            setCurrentTime(newTime);\r\n        }\r\n    };\r\n\r\n    const playSong = (song) => {\r\n        if (activeSong?.id !== song.id) {\r\n            setActiveSong(song);\r\n            setIsPlaying(true);\r\n        } else {\r\n            togglePlayPause();\r\n        }\r\n    };\r\n\r\n    // --- Playlist Functions ---\r\n    const addToPlaylist = useCallback((playlistId, song) => {\r\n        setPlaylists(prev =>\r\n            prev.map(p =>\r\n                p.id === playlistId && !p.songs.some(s => s.id === song.id)\r\n                    ? { ...p, songs: [...p.songs, song] }\r\n                    : p\r\n            )\r\n        );\r\n        console.log(`Added ${song.songname} to playlist ID: ${playlistId}`);\r\n    }, []);\r\n\r\n    const createPlaylist = useCallback((name, firstSong = null) => {\r\n        const newPlaylist = {\r\n            id: Date.now().toString(),\r\n            name: name || `New Playlist`,\r\n            songs: firstSong ? [firstSong] : []\r\n        };\r\n        setPlaylists(prev => [...prev, newPlaylist]);\r\n        console.log(`Created playlist: ${newPlaylist.name}`);\r\n        return newPlaylist;\r\n    }, []);\r\n\r\n    // --- NEW: Add Current Song with \"+\" button ---\r\n    const handleAddToPlaylist = () => {\r\n        if (!activeSong) return;\r\n\r\n        if (playlists.length === 0) {\r\n            // No playlist yet → create one\r\n            const newList = createPlaylist(\"My Favourites\", activeSong);\r\n            console.log(`Created \"${newList.name}\" and added ${activeSong.songname}`);\r\n        } else {\r\n            // Add to first playlist (\"My Favourites\")\r\n            addToPlaylist(playlists[0].id, activeSong);\r\n            console.log(`Added ${activeSong.songname} to ${playlists[0].name}`);\r\n        }\r\n    };\r\n\r\n    // Effects\r\n    useEffect(() => {\r\n        const audio = audioRef.current;\r\n        if (!audio) return;\r\n        audio.addEventListener('loadedmetadata', handleLoadedMetadata);\r\n        audio.addEventListener('timeupdate', handleTimeUpdate);\r\n        audio.addEventListener('ended', handleSongEnded);\r\n        return () => {\r\n            audio.removeEventListener('loadedmetadata', handleLoadedMetadata);\r\n            audio.removeEventListener('timeupdate', handleTimeUpdate);\r\n            audio.removeEventListener('ended', handleSongEnded);\r\n        };\r\n    }, [handleLoadedMetadata, handleTimeUpdate, handleSongEnded, activeSong]);\r\n\r\n    useEffect(() => {\r\n        if (activeSong && audioRef.current && isPlaying) {\r\n            audioRef.current.play().catch(() => {\r\n                console.warn(\"Autoplay prevented.\");\r\n                setIsPlaying(false); \r\n            });\r\n        }\r\n    }, [activeSong, isPlaying]);\r\n\r\n    const contextValue = {\r\n        activeSong,\r\n        isPlaying,\r\n        currentTime,\r\n        duration,\r\n        songs,\r\n        playSong,        \r\n        togglePlayPause,\r\n        skipTrack,\r\n        handleSeek,\r\n        setSongs,\r\n        playlists,\r\n        addToPlaylist,\r\n        createPlaylist,\r\n    };\r\n\r\n    return (\r\n        <MusicPlayerContext.Provider value={contextValue}>\r\n            {children}\r\n\r\n            {/* --- Player Footer --- */}\r\n            {activeSong && (\r\n                <div className=\"player-footer\">\r\n                    <audio \r\n                        ref={audioRef}\r\n                        key={activeSong.id} \r\n                        src={activeSong.url}\r\n                        preload=\"auto\"\r\n                    />\r\n\r\n                    {/* Song Info */}\r\n                    <div className=\"song-info player-info\">\r\n                        <img \r\n                            src={activeSong.cover} \r\n                            alt={activeSong.songname} \r\n                            className=\"player-cover\" \r\n                        />\r\n                        <div>\r\n                            <h4>{activeSong.songname}</h4>\r\n                            <p>{activeSong.artist.split(',')[0]}</p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Controls */}\r\n                    <div className=\"progress-container\">\r\n                        <div className=\"player-controls\">\r\n                            <button onClick={() => skipTrack(-1)}>&lt;&lt;</button>\r\n                            <button onClick={togglePlayPause}>\r\n                                {isPlaying ? '❚❚' : '▶'}\r\n                            </button>\r\n                            <button onClick={() => skipTrack(1)}>&gt;&gt;</button>\r\n                        </div>\r\n\r\n                        {/* Time + Seek Bar */}\r\n                        <span className=\"progress-time\">{formatTime(currentTime)}</span>\r\n                        <input\r\n                            type=\"range\"\r\n                            min=\"0\"\r\n                            max={duration || 0}\r\n                            value={currentTime}\r\n                            className=\"progress-bar\"\r\n                            onChange={handleSeek}\r\n                        />\r\n                        <span className=\"progress-time\">{formatTime(duration)}</span>\r\n                    </div>\r\n\r\n                    {/* Playlist Add Button */}\r\n                    <div className=\"player-options-right\" style={{ flex: 1, textAlign: 'right' }}>\r\n                        <button \r\n                            className=\"add-to-playlist-btn\"\r\n                            onClick={handleAddToPlaylist}\r\n                            style={{ \r\n                                background: 'none', \r\n                                border: 'none', \r\n                                color: 'white', \r\n                                fontSize: '24px', \r\n                                cursor: 'pointer',\r\n                                padding: '0 10px'\r\n                            }}\r\n                        >\r\n                            +\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </MusicPlayerContext.Provider>\r\n    );\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}